# pull image of node v12

FROM node:16-alpine

ENV MONGODB_HOST mongodb
ENV MONGODB_DB booksDB
ENV MONGODB_PW booksDBPW
ENV MONGODB_PORT 27017
ENV PORT 5045

# Create app directory

WORKDIR /usr/src/app

# Install app dependencies

# A wildcard is used to ensure both package.json AND package-lock.json are copied

COPY package\*.json ./

RUN npm install

# Bundle app source

COPY . .

EXPOSE 5045
CMD [ "node", "app.js" ]
